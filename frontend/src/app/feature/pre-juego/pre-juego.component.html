<div class="cargando" *ngIf="cargando || !form">
  <mat-spinner diameter="60"></mat-spinner>
</div>
<h2>âš”ï¸ CONFIGURACIÃ“N DE LA PARTIDA âš”ï¸</h2>

<form *ngIf="form" [formGroup]="form" class="formulario-medieval">

 <!-- ğŸ° SelecciÃ³n de ciudades -->
<fieldset>
  <legend>ğŸ—ºï¸ Elige tus ciudades</legend>
  <div formArrayName="seleccion" class="checkbox-grid">
    <mat-checkbox *ngFor="let c of ciudades; let i = index" [formControlName]="i">
      {{ c.nombre }}
    </mat-checkbox>

    
  </div>
</fieldset>

  <!-- â±ï¸ Tiempo lÃ­mite -->
  <fieldset>
    <legend>â³ Tiempo lÃ­mite</legend>
    <mat-radio-group formControlName="tiempoLimite" class="radio-group">
      <mat-radio-button value="1200">20 min</mat-radio-button>
      <mat-radio-button value="60">1 min</mat-radio-button>
      <mat-radio-button value="7200">2 horas</mat-radio-button>
    </mat-radio-group>
  </fieldset>

  <!-- ğŸ’° Oro inicial -->
  <fieldset>
    <legend>ğŸ’° Oro inicial</legend>
    <mat-form-field>
      <input matInput type="number" formControlName="oroInicial" min="1" placeholder="Ej: 200 MO">
    </mat-form-field>
  </fieldset>

  <!-- ğŸ¯ Meta de monedas -->
  <fieldset>
    <legend>ğŸ¯ Meta de monedas</legend>
    <mat-form-field>
      <input matInput type="number" formControlName="metaMonedas" placeholder="Ej: 1000 MO">
    </mat-form-field>
  </fieldset>

  <!-- â¤ï¸ Vida inicial -->
  <fieldset>
    <legend>â¤ï¸ Vida inicial</legend>
    <div class="valor-fijo">1000</div>
  </fieldset>

  <!-- BotÃ³n -->
  <div class="boton-inicio-wrapper">
    <button mat-raised-button class="boton-medieval" 
            (click)="onIniciar()"
            [disabled]="botonDeshabilitado || cargando"
            [ngClass]="{ 'glow-activo': glowActivo }">
      <mat-icon>travel_explore</mat-icon>
      Iniciar Partida
    </button>
  </div>
  <!-- ğŸ‘‘ Panel de administraciÃ³n (solo visible para ADMINISTRADOR) -->
<div *ngIf="rol === 'ADMINISTRADOR'" class="panel-admin-prejuego">
  <h3>âš™ï¸ Panel del Administrador</h3>
  <a routerLink="/admin-ciudades" class="boton-medieval">ğŸ™ï¸ Ciudades</a>
  <a routerLink="/admin-servicios" class="boton-medieval">ğŸ› ï¸ Servicios</a>
  <a routerLink="/admin-stock" class="boton-medieval">ğŸ“¦ Stock</a>
</div>


</form>

